# 面经

## 自我介绍&项目介绍

在工作将近两年时间内，主要做了两个项目：

1. TPS, TPS是一个固定收益类金融衍生品的大型交易系统，我主要负责监管这一块。

* 业务flow就是从客户端或者一些webService发送请求到TPS API, API将请求发送至消息中间件EMS集群，EMS负载均衡到各个service,我主要做的是监管的svc,发送到下游并将数据存储至数据库。

* 我平时的工作就是独立完成需求分析，开发，测试并独立部署。同时基于缓存搭建了一个配置中心，提升用户体验。

2. Equity，Equity是一个股票类金融衍生品的系统，我负责blotter这块。

* 我平时的工作出去日常独立工作，主要做了以下四个工作：

1）通过ELK+filebeat搭建日志查看平台，提升开发效率  
2）用oAuth2实现sso单点登录，统一后端认证，提升用户体验  
3）优化日常CI/CD流程，优化开发流程  
4）单体应用转换到webService，目前在系统设计阶段  

个人技能：算法，Java，系统设计，数据库，框架

想来跳槽的理由：

1）现在这个业务场景比较复杂，我在平时工作中比较喜欢解决复杂的问题，想去接受挑战
2）想在技术上继续钻研并且技术落地，目前来说**技术很新，希望自己能有机会去接触
3）目前**发展前景很好，大势所趋

## 面试问题

1. java基础

Object类有哪些方法：
A:

HashMap的put操作和hash方法以及扩容机制
A:

hashMap链表长度大于8的时候会红黑树化，为什么是红黑树，不是B树不是平衡树呢？为什么是8的时候呢？不用头插法的理由？

hashMap不是线程安全的，那么平常用什么保证线程安全呢？说一下concurrentHashMap的原理？为什么concurrentHashMap没有用sync或者Lock去保证线程安全呢？说一下sync的锁升级过程。

volatile原理，volatile应用场景，有没有什么源码中用了volatile

线程池：线程池参数，应用场景

GC算法和GC收集器

添加：aqs原理，lock原理，类加载，双亲委托，对象创建过程

2. 框架：

spring: ioc注入方式，aop原理，动态代理和字节码增强的应用场景，反射，有没有用到过反射，事务隔离级别

添加：spring reactor

3. 分布式：

1）ELK部署情况，filebeat监听怎么保证NRT(Near real time)，ELK的架构图，elk如何实现分布式，数据量很大如何提高查询效率

2）简易配置中心，怎么保证数据一致性

3）是怎么设计现在这个系统的

4）支付接口的三个考虑因素

5）接口和MQ的区别

6）怎么保证高可用，具体说应用场景，如果数据库挂了，MQ挂了，缓存挂了，服务器挂了

7）现在业务的qps是多少，假设增长100倍，要怎么扩展解决性能瓶颈

8）脑裂

9）一个公司，有很多部门，每个部门有子部门，设计表并且输出全路径

添加：缓存击穿，缓存雪崩，docker, kafka...

4. 数据库：

1）事务隔离级别

2）数据库挂掉

添加：分库分表，读写分离，数据库优化，执行计划，隔离级别解决的问题（数据脏读，幻读）

5）算法

两道题：
1. 

input：
building[10,20,25]代表每栋楼的楼层数，如1号楼1-10， 2号楼11-30，3号楼31-55
package[1,23,34]
output：输出包裹在多少栋多少层

2. 

input[1,2,3,3,3]， target：3
output:target的index，并且保证index出现的概率一样







